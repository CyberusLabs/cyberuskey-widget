!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("cyberuskey-widget",[],t):"object"==typeof exports?exports["cyberuskey-widget"]=t():e["cyberuskey-widget"]=t()}(window,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e[void 0]=1]="undefined",e[e.unknown_error=2]="unknown_error",e[e.server_error=3]="server_error",e[e.wrong_json=4]="wrong_json",e[e.openapi_error=5]="openapi_error",e[e.resource_not_found=6]="resource_not_found",e[e.otp_generation_failure=7]="otp_generation_failure",e[e.invalid_redirect_uri=8]="invalid_redirect_uri",e[e.invalid_client=9]="invalid_client",e[e.too_many_calls_error=10]="too_many_calls_error"}(i||(i={})),t.ErrorCode=i;class r extends Error{constructor(e,t){super(t),this._code=i[e]}get code(){return i[this._code]}get description(){return this.message}}t.CyberusKeyError=r;class o extends r{constructor(e="unknown_error",t="Unknown error occured."){super(e,t)}}t.UnknownError=o;class s extends r{constructor(e="too_many_calls_error",t="You've done too many calls."){super(e,t)}}t.TooManyCallsError=s;t.MissingRedirectUri=class extends r{constructor(){super("invalid_redirect_uri","Missing redirection URI.")}};class a extends r{}t.WrongJsonError=a;class c extends r{}t.OpenApiError=c;class u extends r{}t.ResourceNotFoundError=u;class l extends r{}t.OTPGenerationError=l;const d={[i.undefined]:o,[i.unknown_error]:o,[i.server_error]:o,[i.undefined]:a,[i.wrong_json]:a,[i.openapi_error]:c,[i.resource_not_found]:u,[i.otp_generation_failure]:l,[i.invalid_redirect_uri]:class extends r{},[i.invalid_client]:class extends r{},[i.too_many_calls_error]:s};t.errorFactory=function(e,t){const n=i[e];return new(0,d[n])(e,t)}},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(2)),i(n(6)),i(n(0)),i(n(7)),i(n(8)),i(n(3)),i(n(4)),i(n(9));const r=n(2);t.default=r.CyberusKeyAPI},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,a)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(3);t.CyberusKeyAPI=class{constructor(e,t,n=600){this._apiUrl=new URL("/api/v2/",e),this._geoProvider=t,this._delayMs=n}createSession(e,t){return i(this,void 0,void 0,function*(){const n={client_id:e};t&&(n.lat=t.latitude,n.lng=t.longitude);const i=yield fetch(this._getUrl("sessions"),{method:"POST",body:this._getUrlEncodedBody(n),headers:{"Content-Type":"application/x-www-form-urlencoded"}}),s=yield i.json();if(i.ok&&201===i.status&&s.success)return new o.Session(s.data);if(!s.error)throw new r.UnknownError;throw r.errorFactory(s.error,s.error_description)})}getOTPSound(e){return i(this,void 0,void 0,function*(){const t=yield fetch(this._getUrl(`sessions/${e.sessionId}`),{headers:{Accept:"audio/mpeg","Content-Type":"text/plain"}}),n=t.buffer||t.arrayBuffer;return yield n.call(t)})}getAuthenticationEndpointUrl(e,t,n,i,r,o){const s={session_id:e.sessionId,client_id:n,scope:t.getValue(),redirect_uri:i,response_type:"code"};r&&(s.state=r),o&&(s.nonce=o);const a=new URL(this._getUrl("authenticate"));return Object.keys(s).forEach(e=>{a.searchParams.append(e,s[e])}),a.href}authenticate(e,t,n,r,o,s,a){return i(this,void 0,void 0,function*(){this._geoProvider&&!this._cachedGeo&&(this._cachedGeo=yield this._geoProvider.getGeo());const i=yield this.createSession(e,this._cachedGeo),c=yield this.getOTPSound(i),u=this.getAuthenticationEndpointUrl(i,n,e,t,s,a);console.info(`Navigating to ${u}.`),yield o.navigate(u),yield this._timeout(1e3),console.info("Sound emitting."),yield r.emit(c)})}navigateAndGetTheSound(e,t,n,r,o,s){return i(this,void 0,void 0,function*(){this._geoProvider&&!this._cachedGeo&&(this._cachedGeo=yield this._geoProvider.getGeo());const i=yield this.createSession(e,this._cachedGeo),a=yield this.getOTPSound(i),c=this.getAuthenticationEndpointUrl(i,n,e,t,o,s);return console.info(`Navigating to ${c}.`),yield r.navigate(c),yield this._timeout(this._delayMs),a})}_getUrl(e){return new URL(e,this._apiUrl).href}_getUrlEncodedBody(e){return Object.keys(e).reduce((t,n)=>{const i=encodeURIComponent(n),r=encodeURIComponent(e[n]);return t.push(`${i}=${r}`),t},[]).join("&")}_timeout(e){return new Promise(t=>setTimeout(t,e))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Session=class{constructor(e){this.sessionId=e.session_id,this.createdAt=new Date(e.created_at)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Geolocation=class{constructor(e,t,n){this._latitude=e,this._longitude=t,this._accuracy=n}get latitude(){return this._latitude}get longitude(){return this._longitude}get accuracy(){return this._accuracy}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,a)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);n(10);const o=n(17),s=n(18),a={default:"img/cyberus/cyberus_login_widget.png",eliot:"img/eliot/eliot_login_widget_button.png"};var c;!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(1)),function(e){e[e.None=0]="None",e[e.Blinking=1]="Blinking",e[e.Waves=2]="Waves"}(c=t.WidgetAnimation||(t.WidgetAnimation={}));t.WidgetOptions=class{constructor(){this.theme="default",this.serverUrl="https://auth-server-demo.cyberuslabs.net",this.animation=c.Blinking,this.geoProvider=null,this.state=null,this.nonce=null}};t.CyberusKeyWidget=class{constructor(e){if(!e||!e.clientId||!e.redirectUri)throw new Error("CyberusKeyWidget: Missing options(s).");const t=e.theme||"default",n=e.serverUrl||"https://auth-server-demo.cyberuslabs.net",i=e.animation||c.Blinking;if(!Object.keys(a).includes(t))throw new Error(`CyberusKeyWidget: Theme "${t}" is not supported.`);this._clientId=e.clientId,this._redirectUri=e.redirectUri,this._geoProvider=e.geoProvider,this._state=e.state,this._nonce=e.nonce,this._serverUrl=new URL(n),this._theme=t,this._animation=i,this._initialized=!1,this._inProgress=!1}create(e){if(this._initialized)throw new Error("Widget is already initialized.");this._containingElementSelector=e;const t="eliot"===this._theme?"LOGIN WITH ELIOT PRO":"Login with <b>Cyberus</b>Key",n=s.replace(/{{lostDeviceUrl}}/g,this._getUrl("dashboard")).replace(/{{theme}}/g,this._theme).replace(/{{loginText}}/g,t);o(n).appendTo(e),o(this._getElement(".login-button-container .login-button")).on("click",this._loginButtonClick.bind(this)),this._initialized=!0}_loginButtonClick(){return i(this,void 0,void 0,function*(){if(this._inProgress)return Promise.resolve();this._inProgress=!0;const e=new r.CyberusKeyAPI(this._serverUrl.href,this._geoProvider),t=(new r.OpenIdScopeParser).addEmail().addProfile(),n=new r.WebAudioSoundEmitter;this._loading();try{const i=yield e.navigateAndGetTheSound(this._clientId,this._redirectUri,t,new r.RedirectNavigator,this._state,this._nonce);this._stopLoading(),this._animate(),yield n.emit(i)}catch(e){throw this._stopLoading(),this._stopAnimation(),this._inProgress=!1,e}this._stopAnimation(),this._loading()})}_getUrl(e){return new URL(e,this._serverUrl).href}_getElement(e){return o(`${this._containingElementSelector} ${e}`)}_loading(){this._getElement(".lds-ring").addClass("enabled"),this._disable()}_stopLoading(){this._enable(),this._getElement(".lds-ring").removeClass("enabled")}_disable(){this._getElement(".login-button").addClass("disabled")}_enable(){this._getElement(".login-button").removeClass("disabled")}_blink(){this._getElement(".login-button-icon").addClass("blinking")}_stopBlinking(){this._getElement(".login-button-icon").removeClass("blinking")}_waves(){this._getElement(".lds-ripple").addClass("enabled")}_stopWaves(){this._getElement(".lds-ripple").removeClass("enabled")}_animate(){this._getElement(".login-button").addClass("blocked"),this._animation===c.Blinking?this._blink():this._animation===c.Waves&&this._waves()}_stopAnimation(){this._getElement(".login-button").removeClass("blocked"),this._animation===c.Blinking?this._stopBlinking():this._animation===c.Waves&&this._stopWaves()}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,a)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});t.WebAudioSoundEmitter=class{emit(e){return i(this,void 0,void 0,function*(){let t;try{t=new AudioContext}catch(e){throw console.error("AudioContext is not supported."),e}const n=yield t.decodeAudioData(e),i=t.createBufferSource();i.buffer=n,i.connect(t.destination),yield new Promise(e=>{i.onended=e,i.start(0)})})}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,a)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);t.RedirectNavigator=class{navigate(e){return i(this,void 0,void 0,function*(){if(!e)throw new r.MissingRedirectUri;return window.location.href=e,Promise.resolve()})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.OpenIdScopeParser=class{constructor(){this._scope=["openid"]}addEmail(){return this._scope.includes("email")?this:(this._scope.push("email"),this)}addProfile(){return this._scope.includes("profile")?this:(this._scope.push("profile"),this)}getValue(){return this._scope.join(" ")}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,a)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const r=n(4);t.HTML5GeoProvider=class{getGeo(){return i(this,void 0,void 0,function*(){const{coords:e}=yield this._getGeo();return new r.Geolocation(e.latitude,e.longitude,e.accuracy)})}_getGeo(){return new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(e,t,{enableHighAccuracy:!0})})}}},function(e,t,n){var i=n(11);"string"==typeof i&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};n(16)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(12)(!1);var i=n(13),r=i(n(14)),o=i(n(15));t.push([e.i,".cyberuskey-widget{position:relative;max-width:480px}.cyberuskey-widget .lds-ring{position:absolute;display:none;left:calc(50% - 32px);width:64px;height:64px}.cyberuskey-widget .lds-ring.enabled{display:block}.cyberuskey-widget .lds-ring.default{top:2px}.cyberuskey-widget .lds-ring.eliot{top:10px}.cyberuskey-widget .lds-ring div{box-sizing:border-box;display:block;position:absolute;width:51px;height:51px;margin:6px;border:6px solid #ababab;border-radius:50%;animation:lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;border-color:#ababab transparent transparent transparent}.cyberuskey-widget .lds-ring div:nth-child(1){animation-delay:-0.45s}.cyberuskey-widget .lds-ring div:nth-child(2){animation-delay:-0.3s}.cyberuskey-widget .lds-ring div:nth-child(3){animation-delay:-0.15s}@keyframes lds-ring{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.cyberuskey-widget .blinking{animation:blinking 0.8s infinite}@keyframes blinking{0%{opacity:1}50%{opacity:.2}100%{opacity:1}}.cyberuskey-widget .lds-ripple{position:absolute;display:none;width:130px;height:130px}.cyberuskey-widget .lds-ripple.default{top:-26px;left:-21px}.cyberuskey-widget .lds-ripple.eliot{top:-21px;left:-21px}.cyberuskey-widget .lds-ripple.enabled{display:block}.cyberuskey-widget .lds-ripple div{position:absolute;border:6px solid #ababab;opacity:1;border-radius:50%;animation:lds-ripple 1.5s cubic-bezier(0, 0.2, 0.8, 1) infinite}.cyberuskey-widget .lds-ripple div:nth-child(2){animation-delay:-0.5s}@keyframes lds-ripple{0%{top:64px;left:64px;width:0;height:0;opacity:1}100%{top:-1px;left:-1px;width:130px;height:130px;opacity:0}}.cyberuskey-widget .login-button-container{position:relative}.cyberuskey-widget .login-button{display:flex;height:66px;background:#eb5e18;border-radius:6px;transition:opacity .25s ease-in-out;cursor:pointer}.cyberuskey-widget .login-button .login-button-icon{position:relative;flex:0 0 80px;max-width:80px}.cyberuskey-widget .login-button .login-button-text-container{display:flex;flex:1 1 400px;align-items:center;justify-content:center;user-select:none}.cyberuskey-widget .login-button .login-buton-text,.cyberuskey-widget .login-button .login-buton-text b,.cyberuskey-widget .login-button .lost-phone{font-family:Helvetica, Arial, sans-serif}.cyberuskey-widget .login-button.blocked{cursor:not-allowed}.cyberuskey-widget .login-button.disabled{opacity:.6;cursor:not-allowed}.cyberuskey-widget .login-button.default{background:linear-gradient(to right, #eb5e18, #ef7d46 100%);min-width:310px}.cyberuskey-widget .login-button.default .login-button-icon{background-color:transparent;background:no-repeat center url("+r+");background-size:75%}.cyberuskey-widget .login-button.default .login-buton-text{color:white;font-size:1.4em}.cyberuskey-widget .login-button.default .login-button-vl{border-left:1px solid #f18c5a;height:100%}.cyberuskey-widget .login-button.eliot{background:linear-gradient(180deg, #1490FB, #0754B6 100%);max-width:465px;min-width:360px;height:80px}.cyberuskey-widget .login-button.eliot .login-button-icon{background:no-repeat center url("+o+");background-size:75%}.cyberuskey-widget .login-button.eliot .login-buton-text{color:white;font-size:1.7em}.cyberuskey-widget .login-button.eliot .login-button-vl{border-left:1px solid #3897EF;height:100%}.cyberuskey-widget .lost-phone{flex:0 0 auto;margin-top:16px;text-align:center;color:#7e8aac;font-size:18px;font-weight:400;letter-spacing:-0.32px;line-height:52.8px}\n",""])},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var r=(s=i,a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(c," */")),o=i.sources.map(function(e){return"/*# sourceURL=".concat(i.sourceRoot).concat(e," */")});return[n].concat(o).concat([r]).join("\n")}var s,a,c;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2],"{").concat(n,"}"):n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];null!=o&&(i[o]=!0)}for(var s=0;s<e.length;s++){var a=e[s];null!=a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="(".concat(a[2],") and (").concat(n,")")),t.push(a))}},t}},function(e,t,n){"use strict";e.exports=function(e,t){return"string"!=typeof(e=e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)||t?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},function(e,t){e.exports="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 56.7 56.7'%3E%3Ctitle%3Ecyberus_buttony_login_icon%3C/title%3E%3Cpath d='M36.3,28.2a6.1,6.1,0,0,1-12.2,0,6.1,6.1,0,0,1,12.2,0Zm11,0h-11m8.6,0v4.7M17.7,48.2A23.1,23.1,0,0,1,6.8,28.7a23.2,23.2,0,0,1,13.9-21m20.4,7.4A18,18,0,0,0,30,11.3,17.6,17.6,0,0,0,12.2,28.8,17.6,17.6,0,0,0,30,46.2a17.3,17.3,0,0,0,8.5-2.1m-4.2-27a13.4,13.4,0,0,0-4-.6A12.4,12.4,0,0,0,17.7,28.8a12.2,12.2,0,0,0,2.3,7' style='fill:none;stroke:%23fff;stroke-linecap:round;stroke-miterlimit:10;stroke-width:1.5px'/%3E%3C/svg%3E"},function(e,t){e.exports="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 56.7 56.7'%3E%3Ctitle%3Ecyberus_buttony_login_icon%3C/title%3E%3Cpath d='M19.1,49.9A24.8,24.8,0,0,1,22.3,6m22,8A19.1,19.1,0,1,0,32.4,47.8a18.6,18.6,0,0,0,9.1-2.3M37,16.2a16.2,16.2,0,0,0-4.4-.7,13.4,13.4,0,0,0-11.1,21M34.8,22.6a7.8,7.8,0,0,0-2.2-.3,6.7,6.7,0,0,0,0,13.4,7.8,7.8,0,0,0,2.2-.3M25.9,29h8.9' style='fill:none;stroke:%23fff;stroke-linecap:round;stroke-miterlimit:10;stroke-width:1.5px'/%3E%3C/svg%3E"},function(e,t,n){"use strict";var i,r={},o=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},s=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}();function a(e,t){for(var n=[],i={},r=0;r<e.length;r++){var o=e[r],s=t.base?o[0]+t.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};i[s]?i[s].parts.push(a):n.push(i[s]={id:s,parts:[a]})}return n}function c(e,t){for(var n=0;n<e.length;n++){var i=e[n],o=r[i.id],s=0;if(o){for(o.refs++;s<o.parts.length;s++)o.parts[s](i.parts[s]);for(;s<i.parts.length;s++)o.parts.push(v(i.parts[s],t))}else{for(var a=[];s<i.parts.length;s++)a.push(v(i.parts[s],t));r[i.id]={id:i.id,refs:1,parts:a}}}}function u(e){var t=document.createElement("style");if(void 0===e.attributes.nonce){var i=n.nc;i&&(e.attributes.nonce=i)}if(Object.keys(e.attributes).forEach(function(n){t.setAttribute(n,e.attributes[n])}),"function"==typeof e.insert)e.insert(t);else{var r=s(e.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}return t}var l,d=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function h(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=d(t,r);else{var o=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function p(e,t,n){var i=n.css,r=n.media,o=n.sourceMap;if(r&&e.setAttribute("media",r),o&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var f=null,g=0;function v(e,t){var n,i,r;if(t.singleton){var o=g++;n=f||(f=u(t)),i=h.bind(null,n,o,!1),r=h.bind(null,n,o,!0)}else n=u(t),i=p.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).attributes="object"==typeof t.attributes?t.attributes:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=o());var n=a(e,t);return c(n,t),function(e){for(var i=[],o=0;o<n.length;o++){var s=n[o],u=r[s.id];u&&(u.refs--,i.push(u))}e&&c(a(e,t),t);for(var l=0;l<i.length;l++){var d=i[l];if(0===d.refs){for(var h=0;h<d.parts.length;h++)d.parts[h]();delete r[d.id]}}}}},function(module,exports,__webpack_require__){!function(){"use strict";var doc=document,win=window,div=doc.createElement("div"),_a=Array.prototype,filter=_a.filter,indexOf=_a.indexOf,map=_a.map,push=_a.push,reverse=_a.reverse,slice=_a.slice,some=_a.some,splice=_a.splice,idRe=/^#[\w-]*$/,classRe=/^\.[\w-]*$/,htmlRe=/<.+>/,tagRe=/^\w+$/;function find(e,t){return void 0===t&&(t=doc),isDocument(t)||isElement(t)?classRe.test(e)?t.getElementsByClassName(e.slice(1)):tagRe.test(e)?t.getElementsByTagName(e):t.querySelectorAll(e):[]}var Cash=function(){function e(e,t){if(void 0===t&&(t=doc),e){if(isCash(e))return e;var n=e;if(isString(e)){var i=isCash(t)?t[0]:t;if(!(n=idRe.test(e)?i.getElementById(e.slice(1)):htmlRe.test(e)?parseHTML(e):find(e,i)))return}else if(isFunction(e))return this.ready(e);(n.nodeType||n===win)&&(n=[n]),this.length=n.length;for(var r=0,o=this.length;r<o;r++)this[r]=n[r]}}return e.prototype.init=function(t,n){return new e(t,n)},e}(),cash=Cash.prototype.init;cash.fn=cash.prototype=Cash.prototype,Cash.prototype.length=0,Cash.prototype.splice=splice,"function"==typeof Symbol&&(Cash.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator]),Cash.prototype.get=function(e){return void 0===e?slice.call(this):this[e<0?e+this.length:e]},Cash.prototype.eq=function(e){return cash(this.get(e))},Cash.prototype.first=function(){return this.eq(0)},Cash.prototype.last=function(){return this.eq(-1)},Cash.prototype.map=function(e){return cash(map.call(this,function(t,n){return e.call(t,n,t)}))},Cash.prototype.slice=function(){return cash(slice.apply(this,arguments))};var dashAlphaRe=/-([a-z])/g;function camelCaseReplace(e,t){return t.toUpperCase()}function camelCase(e){return e.replace(dashAlphaRe,camelCaseReplace)}function each(e,t){for(var n=0,i=e.length;n<i&&!1!==t.call(e[n],n,e[n]);n++);}function extend(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=arguments,r=i.length,o=r<2?0:1;o<r;o++)for(var s in i[o])e[s]=i[o][s];return e}function matches(e,t){var n=e&&(e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector);return!!n&&n.call(e,t)}function pluck(e,t,n){for(var i=[],r=0,o=e.length;r<o;r++)for(var s=e[r][t];null!=s&&(i.push(s),n);)s=s[t];return i}function isCash(e){return e instanceof Cash}function isWindow(e){return!!e&&e===e.window}function isDocument(e){return!!e&&9===e.nodeType}function isElement(e){return!!e&&1===e.nodeType}function isFunction(e){return"function"==typeof e}function isString(e){return"string"==typeof e}function isNumeric(e){return!isNaN(parseFloat(e))&&isFinite(e)}cash.camelCase=camelCase,cash.each=each,Cash.prototype.each=function(e){return each(this,e),this},Cash.prototype.removeProp=function(e){return this.each(function(t,n){delete n[e]})},Cash.prototype.extend=function(e){return extend(cash.fn,e)},cash.extend=extend,cash.guid=1,cash.matches=matches;var isArray=Array.isArray;function getCompareFunction(e){return isString(e)?function(t,n){return matches(n,e)}:isFunction(e)?e:isCash(e)?function(t,n){return e.is(n)}:function(t,n){return n===e}}function filtered(e,t){return t&&e.length?e.filter(t):e}cash.isWindow=isWindow,cash.isFunction=isFunction,cash.isString=isString,cash.isNumeric=isNumeric,cash.isArray=isArray,Cash.prototype.prop=function(e,t){if(e){if(isString(e))return arguments.length<2?this[0]&&this[0][e]:this.each(function(n,i){i[e]=t});for(var n in e)this.prop(n,e[n]);return this}},Cash.prototype.filter=function(e){if(!e)return cash();var t=getCompareFunction(e);return cash(filter.call(this,function(e,n){return t.call(e,n,e)}))};var splitValuesRe=/\S+/g;function getSplitValues(e){return isString(e)&&e.match(splitValuesRe)||[]}function attr(e,t){if(e){if(isString(e)){if(arguments.length<2){if(!this[0])return;var n=this[0].getAttribute(e);return null===n?void 0:n}return void 0===t?this:null===t?this.removeAttr(e):this.each(function(n,i){i.setAttribute(e,t)})}for(var i in e)this.attr(i,e[i]);return this}}function unique(e){return e.length>1?filter.call(e,function(e,t,n){return indexOf.call(n,e)===t}):e}function computeStyle(e,t,n){if(isElement(e)&&t){var i=win.getComputedStyle(e,null);return t?n?i.getPropertyValue(t)||void 0:i[t]:i}}function computeStyleInt(e,t){return parseInt(computeStyle(e,t),10)||0}Cash.prototype.hasClass=function(e){return e&&some.call(this,function(t){return t.classList.contains(e)})},Cash.prototype.removeAttr=function(e){var t=getSplitValues(e);return t.length?this.each(function(e,n){each(t,function(e,t){n.removeAttribute(t)})}):this},Cash.prototype.attr=attr,Cash.prototype.toggleClass=function(e,t){var n=getSplitValues(e),i=void 0!==t;return n.length?this.each(function(e,r){each(n,function(e,n){i?t?r.classList.add(n):r.classList.remove(n):r.classList.toggle(n)})}):this},Cash.prototype.addClass=function(e){return this.toggleClass(e,!0)},Cash.prototype.removeClass=function(e){return arguments.length?this.toggleClass(e,!1):this.attr("class","")},cash.unique=unique,Cash.prototype.add=function(e,t){return cash(unique(this.get().concat(cash(e,t).get())))};var cssVariableRe=/^--/;function isCSSVariable(e){return cssVariableRe.test(e)}var prefixedProps={},style=div.style,vendorsPrefixes=["webkit","moz","ms","o"];function getPrefixedProp(e,t){if(void 0===t&&(t=isCSSVariable(e)),t)return e;if(!prefixedProps[e]){var n=camelCase(e),i=""+n.charAt(0).toUpperCase()+n.slice(1);each((n+" "+vendorsPrefixes.join(i+" ")+i).split(" "),function(t,n){if(n in style)return prefixedProps[e]=n,!1})}return prefixedProps[e]}cash.prefixedProp=getPrefixedProp;var numericProps={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function getSuffixedValue(e,t,n){return void 0===n&&(n=isCSSVariable(e)),n||numericProps[e]||!isNumeric(t)?t:t+"px"}function css(e,t){if(isString(e)){var n=isCSSVariable(e);return e=getPrefixedProp(e,n),arguments.length<2?this[0]&&computeStyle(this[0],e,n):e?(t=getSuffixedValue(e,t,n),this.each(function(i,r){isElement(r)&&(n?r.style.setProperty(e,t):r.style[e]=t)})):this}for(var i in e)this.css(i,e[i]);return this}function getData(e,t){var n=e.dataset?e.dataset[t]||e.dataset[camelCase(t)]:e.getAttribute("data-"+t);try{return JSON.parse(n)}catch(e){}return n}function setData(e,t,n){try{n=JSON.stringify(n)}catch(e){}e.dataset?e.dataset[camelCase(t)]=n:e.setAttribute("data-"+t,n)}Cash.prototype.css=css;var dataAttributeRe=/^data-(.+)/;function data(e,t){var n=this;if(!e){if(!this[0])return;var i={};return each(this[0].attributes,function(e,t){var r=t.name.match(dataAttributeRe);r&&(i[r[1]]=n.data(r[1]))}),i}if(isString(e))return void 0===t?this[0]&&getData(this[0],e):this.each(function(n,i){return setData(i,e,t)});for(var r in e)this.data(r,e[r]);return this}function getExtraSpace(e,t){return computeStyleInt(e,"border"+(t?"Left":"Top")+"Width")+computeStyleInt(e,"padding"+(t?"Left":"Top"))+computeStyleInt(e,"padding"+(t?"Right":"Bottom"))+computeStyleInt(e,"border"+(t?"Right":"Bottom")+"Width")}Cash.prototype.data=data,each(["Width","Height"],function(e,t){Cash.prototype["inner"+t]=function(){if(this[0])return isWindow(this[0])?win["inner"+t]:this[0]["client"+t]}}),each(["width","height"],function(e,t){Cash.prototype[t]=function(n){if(!this[0])return void 0===n?void 0:this;if(!arguments.length)return isWindow(this[0])?this[0][camelCase("outer-"+t)]:this[0].getBoundingClientRect()[t]-getExtraSpace(this[0],!e);var i=parseInt(n,10);return this.each(function(n,r){if(isElement(r)){var o=computeStyle(r,"boxSizing");r.style[t]=getSuffixedValue(t,i+("border-box"===o?getExtraSpace(r,!e):0))}})}}),each(["Width","Height"],function(e,t){Cash.prototype["outer"+t]=function(n){if(this[0])return isWindow(this[0])?win["outer"+t]:this[0]["offset"+t]+(n?computeStyleInt(this[0],"margin"+(e?"Top":"Left"))+computeStyleInt(this[0],"margin"+(e?"Bottom":"Right")):0)}});var defaultDisplay={};function getDefaultDisplay(e){if(defaultDisplay[e])return defaultDisplay[e];var t=doc.createElement(e);doc.body.appendChild(t);var n=computeStyle(t,"display");return doc.body.removeChild(t),defaultDisplay[e]="none"!==n?n:"block"}function isHidden(e){return"none"===computeStyle(e,"display")}function hasNamespaces(e,t){return!t||!some.call(t,function(t){return e.indexOf(t)<0})}Cash.prototype.toggle=function(e){return this.each(function(t,n){(void 0!==e?e:isHidden(n))?(n.style.display="",isHidden(n)&&(n.style.display=getDefaultDisplay(n.tagName))):n.style.display="none"})},Cash.prototype.hide=function(){return this.toggle(!1)},Cash.prototype.show=function(){return this.toggle(!0)};var eventsNamespace="__cashEvents",eventsNamespacesSeparator=".",eventsFocus={focus:"focusin",blur:"focusout"},eventsHover={mouseenter:"mouseover",mouseleave:"mouseout"},eventsMouseRe=/^(?:mouse|pointer|contextmenu|drag|drop|click|dblclick)/i;function getEventNameBubbling(e){return eventsHover[e]||eventsFocus[e]||e}function getEventsCache(e){return e[eventsNamespace]=e[eventsNamespace]||{}}function addEvent(e,t,n,i,r){r.guid=r.guid||cash.guid++;var o=getEventsCache(e);o[t]=o[t]||[],o[t].push([n,i,r]),e.addEventListener(t,r)}function parseEventName(e){var t=e.split(eventsNamespacesSeparator);return[t[0],t.slice(1).sort()]}function removeEvent(e,t,n,i,r){var o=getEventsCache(e);if(t)o[t]&&(o[t]=o[t].filter(function(o){var s=o[0],a=o[1],c=o[2];if(r&&c.guid!==r.guid||!hasNamespaces(s,n)||i&&i!==a)return!0;e.removeEventListener(t,c)}));else{for(t in o)removeEvent(e,t,n,i,r);delete e[eventsNamespace]}}function on(e,t,n,i){var r=this;if(!isString(e)){for(var o in e)this.on(o,t,e[o]);return this}return isFunction(t)&&(n=t,t=""),each(getSplitValues(e),function(e,o){var s=parseEventName(getEventNameBubbling(o)),a=s[0],c=s[1];r.each(function(e,r){var o=function e(o){if(!o.namespace||hasNamespaces(c,o.namespace.split(eventsNamespacesSeparator))){var s=r;if(t){for(var u=o.target;!matches(u,t);){if(u===r)return;if(!(u=u.parentNode))return}s=u,o.__delegate=!0}o.__delegate&&Object.defineProperty(o,"currentTarget",{configurable:!0,get:function(){return s}});var l=n.call(s,o,o.data);i&&removeEvent(r,a,c,t,e),!1===l&&(o.preventDefault(),o.stopPropagation())}};o.guid=n.guid=n.guid||cash.guid++,addEvent(r,a,c,t,o)})}),this}function one(e,t,n){return this.on(e,t,n,!0)}function getValue(e){return e.multiple?pluck(filter.call(e.options,function(e){return e.selected&&!e.disabled&&!e.parentNode.disabled}),"value"):e.value||""}Cash.prototype.off=function(e,t,n){var i=this;return void 0===e?this.each(function(e,t){return removeEvent(t)}):(isFunction(t)&&(n=t,t=""),each(getSplitValues(e),function(e,r){var o=parseEventName(getEventNameBubbling(r)),s=o[0],a=o[1];i.each(function(e,i){return removeEvent(i,s,a,t,n)})})),this},Cash.prototype.on=on,Cash.prototype.one=one,Cash.prototype.ready=function(e){var t=function(){return e(cash)};return"loading"!==doc.readyState?setTimeout(t):doc.addEventListener("DOMContentLoaded",t),this},Cash.prototype.trigger=function(e,t){var n;if(isString(e)){var i=parseEventName(e),r=i[0],o=i[1],s=eventsMouseRe.test(r)?"MouseEvents":"HTMLEvents";(n=doc.createEvent(s)).initEvent(r,!0,!0),n.namespace=o.join(eventsNamespacesSeparator)}else n=e;n.data=t;var a=n.type in eventsFocus;return this.each(function(e,t){a&&isFunction(t[n.type])?t[n.type]():t.dispatchEvent(n)})};var queryEncodeSpaceRe=/%20/g;function queryEncode(e,t){return"&"+encodeURIComponent(e)+"="+encodeURIComponent(t).replace(queryEncodeSpaceRe,"+")}var skippableRe=/file|reset|submit|button|image/i,checkableRe=/radio|checkbox/i;function val(e){return void 0===e?this[0]&&getValue(this[0]):this.each(function(t,n){if("SELECT"===n.tagName){var i=isArray(e)?e:null===e?[]:[e];each(n.options,function(e,t){t.selected=i.indexOf(t.value)>=0})}else n.value=null===e?"":e})}Cash.prototype.serialize=function(){var e="";return this.each(function(t,n){each(n.elements||[n],function(t,n){if(!(n.disabled||!n.name||"FIELDSET"===n.tagName||skippableRe.test(n.type)||checkableRe.test(n.type)&&!n.checked)){var i=getValue(n);if(void 0!==i)each(isArray(i)?i:[i],function(t,i){e+=queryEncode(n.name,i)})}})}),e.substr(1)},Cash.prototype.val=val,Cash.prototype.clone=function(){return this.map(function(e,t){return t.cloneNode(!0)})},Cash.prototype.detach=function(){return this.each(function(e,t){t.parentNode&&t.parentNode.removeChild(t)})};var fragmentRe=/^\s*<(\w+)[^>]*>/,singleTagRe=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/,containers;function initContainers(){if(!containers){var e=doc.createElement("table"),t=doc.createElement("tr");containers={"*":div,tr:doc.createElement("tbody"),td:t,th:t,thead:e,tbody:e,tfoot:e}}}function parseHTML(e){if(initContainers(),!isString(e))return[];if(singleTagRe.test(e))return[doc.createElement(RegExp.$1)];var t=fragmentRe.test(e)&&RegExp.$1,n=containers[t]||containers["*"];return n.innerHTML=e,cash(n.childNodes).detach().get()}function html(e){return void 0===e?this[0]&&this[0].innerHTML:this.each(function(t,n){n.innerHTML=e})}function text(e){return void 0===e?this[0]?this[0].textContent:"":this.each(function(t,n){n.textContent=e})}cash.parseHTML=parseHTML,Cash.prototype.empty=function(){return this.each(function(e,t){for(;t.firstChild;)t.removeChild(t.firstChild)})},Cash.prototype.html=html,Cash.prototype.remove=function(){return this.detach().off()},Cash.prototype.text=text,Cash.prototype.unwrap=function(){return this.parent().each(function(e,t){var n=cash(t);n.replaceWith(n.children())}),this};var docEle=doc.documentElement;Cash.prototype.offset=function(){var e=this[0];if(e){var t=e.getBoundingClientRect();return{top:t.top+win.pageYOffset-docEle.clientTop,left:t.left+win.pageXOffset-docEle.clientLeft}}},Cash.prototype.offsetParent=function(){return cash(this[0]&&this[0].offsetParent)},Cash.prototype.position=function(){var e=this[0];if(e)return{left:e.offsetLeft,top:e.offsetTop}},Cash.prototype.children=function(e){var t=[];return this.each(function(e,n){push.apply(t,n.children)}),filtered(cash(unique(t)),e)},Cash.prototype.contents=function(){var e=[];return this.each(function(t,n){push.apply(e,"IFRAME"===n.tagName?[n.contentDocument]:n.childNodes)}),cash(unique(e))},Cash.prototype.find=function(e){for(var t=[],n=0,i=this.length;n<i;n++){var r=find(e,this[n]);r.length&&push.apply(t,r)}return cash(unique(t))};var scriptTypeRe=/^$|^module$|\/(?:java|ecma)script/i,HTMLCDATARe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function evalScripts(node){var collection=cash(node);collection.filter("script").add(collection.find("script")).each(function(i,ele){!ele.src&&scriptTypeRe.test(ele.type)&&ele.ownerDocument.documentElement.contains(ele)&&eval(ele.textContent.replace(HTMLCDATARe,""))})}function insertElement(e,t,n,i){n?e.insertBefore(t,i):e.appendChild(t),evalScripts(t)}function insertContent(e,t,n){each(e,function(e,i){each(t,function(t,r){insertElement(i,e?r.cloneNode(!0):r,n,n&&i.firstChild)})})}Cash.prototype.append=function(){var e=this;return each(arguments,function(t,n){insertContent(e,cash(n))}),this},Cash.prototype.appendTo=function(e){return insertContent(cash(e),this),this},Cash.prototype.insertAfter=function(e){var t=this;return cash(e).each(function(e,n){var i=n.parentNode;i&&t.each(function(t,r){insertElement(i,e?r.cloneNode(!0):r,!0,n.nextSibling)})}),this},Cash.prototype.after=function(){var e=this;return each(reverse.apply(arguments),function(t,n){reverse.apply(cash(n).slice()).insertAfter(e)}),this},Cash.prototype.insertBefore=function(e){var t=this;return cash(e).each(function(e,n){var i=n.parentNode;i&&t.each(function(t,r){insertElement(i,e?r.cloneNode(!0):r,!0,n)})}),this},Cash.prototype.before=function(){var e=this;return each(arguments,function(t,n){cash(n).insertBefore(e)}),this},Cash.prototype.prepend=function(){var e=this;return each(arguments,function(t,n){insertContent(e,cash(n),!0)}),this},Cash.prototype.prependTo=function(e){return insertContent(cash(e),reverse.apply(this.slice()),!0),this},Cash.prototype.replaceWith=function(e){return this.before(e).remove()},Cash.prototype.replaceAll=function(e){return cash(e).replaceWith(this),this},Cash.prototype.wrapAll=function(e){if(this[0]){var t=cash(e);this.first().before(t);for(var n=t[0];n.children.length;)n=n.firstElementChild;this.appendTo(n)}return this},Cash.prototype.wrap=function(e){return this.each(function(t,n){var i=cash(e)[0];cash(n).wrapAll(t?i.cloneNode(!0):i)})},Cash.prototype.wrapInner=function(e){return this.each(function(t,n){var i=cash(n),r=i.contents();r.length?r.wrapAll(e):i.append(e)})},Cash.prototype.has=function(e){var t=isString(e)?function(t,n){return!!find(e,n).length}:function(t,n){return n.contains(e)};return this.filter(t)},Cash.prototype.is=function(e){if(!e||!this[0])return!1;var t=getCompareFunction(e),n=!1;return this.each(function(e,i){return!(n=t.call(i,e,i))}),n},Cash.prototype.next=function(e,t){return filtered(cash(unique(pluck(this,"nextElementSibling",t))),e)},Cash.prototype.nextAll=function(e){return this.next(e,!0)},Cash.prototype.not=function(e){if(!e||!this[0])return this;var t=getCompareFunction(e);return this.filter(function(e,n){return!t.call(n,e,n)})},Cash.prototype.parent=function(e){return filtered(cash(unique(pluck(this,"parentNode"))),e)},Cash.prototype.index=function(e){var t=e?cash(e)[0]:this[0],n=e?this:cash(t).parent().children();return indexOf.call(n,t)},Cash.prototype.closest=function(e){if(!e||!this[0])return cash();var t=this.filter(e);return t.length?t:this.parent().closest(e)},Cash.prototype.parents=function(e){return filtered(cash(unique(pluck(this,"parentElement",!0))),e)},Cash.prototype.prev=function(e,t){return filtered(cash(unique(pluck(this,"previousElementSibling",t))),e)},Cash.prototype.prevAll=function(e){return this.prev(e,!0)},Cash.prototype.siblings=function(e){var t=[];return this.each(function(e,n){push.apply(t,cash(n).parent().children(function(e,t){return t!==n}))}),filtered(cash(unique(t)),e)},module.exports=cash}()},function(e,t){e.exports='<div class="cyberuskey-widget">\n  <div class="login-button-container">\n      <div class="lds-ripple {{theme}}"><div></div><div></div></div>\n      <div class="lds-ring {{theme}}"><div></div><div></div><div></div><div></div></div>\n\n      <div class="login-button {{theme}}">\n          <div class="login-button-icon"></div>\n          <div class="login-button-vl"></div>\n          <div class="login-button-text-container">\n            <span class="login-buton-text">{{loginText}}</span>\n          </div>\n      </div>\n  </div>\n\n  <div class="lost-phone">\n    Lost your phone? <a class=\'lock-now-link\' href="{{lostDeviceUrl}}" target="_parent">Lock now</a>\n  </div>\n</div>\n'}])});